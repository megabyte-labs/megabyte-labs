{"file":"newsletter-signup-a26fbabc.js","mappings":"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","names":[],"sources":["../stencil-docusaurus-lib/src/components/newsletter-signup/newsletter-signup.scss?tag=newsletter-signup","../stencil-docusaurus-lib/src/components/newsletter-signup/newsletter-signup.tsx"],"sourcesContent":["newsletter-signup {\n  display: block;\n  background: #f8fafc;\n  border: 1px solid #dee3ea;\n  border-radius: var(--radius-3);\n  padding-inline-start: clamp(32px, 6vw, 56px);\n  padding-inline-end: clamp(32px, 6vw, 56px);\n  padding-block-start: 64px;\n  padding-block-end: 64px;\n\n  .form-message {\n    display: flex;\n    align-items: center;\n\n    ion-icon {\n      font-size: 32px;\n      color: #597eff;\n      margin-inline-end: var(--space-3);\n    }\n    }\n\n  .wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: flex-end;\n    margin-block-start: -32px;\n\n    > * {\n      margin-block-start: 32px;\n    }\n  }\n\n  .heading-group {\n    max-width: 547px;\n  }\n\n  form.hs-form {\n    display: flex;\n    flex-wrap: wrap;\n    margin-inline-start: -12px;\n    margin-block-start: -16px;\n    position: relative;\n    bottom: 6px;\n\n    > * {\n      margin-block-start: 16px;\n    }\n\n    li {\n      list-style-type: none;\n    }\n\n    .hs-email {\n      flex-grow: 1;\n      max-width: 276px;\n\n      label {\n        position: absolute;\n        opacity: 0;\n      }\n    }\n\n    .input {\n      width: 100%;\n      position: relative;\n\n      &::before {\n        left: 30px;\n        top: 13px;\n        position: absolute;\n        vertical-align: middle;\n        content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNy41aDE0LjZjLjYgMCAxLjIuNiAxLjIgMS4ydjEwLjVjMCAuNy0uNiAxLjMtMS4yIDEuM0gxLjdjLS42IDAtMS4yLS42LTEuMi0xLjNWMS43YzAtLjYuNi0xLjIgMS4yLTEuMnoiIHN0cm9rZT0iIzkyQTBCMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMi44IDIuOEw5IDcuN2w2LjItNC45IiBzdHJva2U9IiM5MkEwQjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+);\n      }\n\n      input {\n        width: calc(100% - 12px);\n        height: 48px;\n        margin-inline-start: 12px;\n        border: 1px solid #ced6e0;\n        border-radius: var(--radius-2);\n        padding-inline-start: 50px;\n\n        transition: border 0.2s ease-out, box-shadow 0.2s ease-out;\n\n        &:focus {\n          outline: 1px solid rgba(0, 0, 0, 0);\n          border: 1px solid #3880ff;\n          box-shadow: 0px 0px 0px 3px #c2d8ff;\n        }\n      }\n    }\n\n    .hs-submit {\n      input {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        height: 48px;\n        border: none;\n        background: var(--c-capacitor-blue);\n        color: #fff;\n        border-radius: var(--radius-2);\n        margin-inline-start: 12px;\n\n        font-family: var(--f-family-text);\n        text-transform: uppercase;\n        letter-spacing: 0.1em;\n        font-weight: bold;\n        font-size: 16px;\n        line-height: 19px;\n\n        padding: 15px 18px 16px 18px;\n        transition: box-shadow 0.2s ease-out, background-color 0.2s ease-out;\n\n        &:hover {\n          background: #24a7ff;\n          box-shadow: none;\n        }\n        &:active {\n          background: #0090f0;\n        }\n        &:focus {\n          outline: 1px solid rgba(0, 0, 0, 0);\n          box-shadow: 0px 0px 0px 3px #c2d8ff;\n        }\n      }\n    }\n\n    .hs_error_rollup {\n      position: absolute;\n      top: 100%;\n      left: 12px;\n      font-size: 14px;\n      color: var(--c-red-100);\n      margin-block-start: 4px;\n    }\n  }\n}\n","import { Component, Host, State, h, Prop } from '@stencil/core'\nimport { Heading, Paragraph } from 'ionic-ds-no-fonts'\n\ndeclare global {\n  interface Window {\n    hbspt: {\n      forms: {\n        create: ({ }) => any\n      }\n    }\n  }\n}\n\n@Component({\n  tag: 'newsletter-signup',\n  styleUrl: 'newsletter-signup.scss',\n})\nexport class NewsletterSignup {\n  @Prop() defaults: any\n  @State() email: string = '';\n  @State() isLoading: boolean = false;\n  @State() hasSubmitted: boolean = false;\n  @State() isValid: boolean = true;\n  @State() inlineMessage: string = '';\n\n  componentWillLoad() { }\n\n  handleNewsletterSubmit(e: Event) {\n    e.preventDefault()\n\n    this.isLoading = true\n\n    const xhr = new XMLHttpRequest()\n    const url = [\n      'https://api.hsforms.com/submissions/v3/integration/submit',\n      this.defaults.hubspot.emailForm.id,\n      this.defaults.hubspot.emailForm.key,\n    ].join('/')\n    xhr.open('POST', url)\n    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8')\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        const json = JSON.parse(xhr.responseText)\n        this.inlineMessage = json.inlineMessage\n        this.isLoading = false\n        this.hasSubmitted = true\n        this.isValid = true\n      } else if (xhr.readyState == 4 && xhr.status == 400) {\n        this.inlineMessage = 'Please enter a valid e-mail address.'\n        this.isLoading = false\n        this.isValid = false\n      }\n    }\n\n    const hutkMatch =\n      document.cookie.match && document.cookie.match(/hubspotutk=(.*?);/)\n    const hutk = hutkMatch ? hutkMatch[1] : undefined\n\n    xhr.send(\n      JSON.stringify({\n        submittedAt: new Date().getTime(),\n        fields: [\n          {\n            name: 'email',\n            value: this.email,\n          },\n          {\n            name: 'first_campaign_conversion',\n            value: this.defaults.brandName + ' Newsletter',\n          },\n        ],\n        context: {\n          hutk,\n          pageUri: window.location.href,\n          pageName: document.title,\n        },\n      }),\n    )\n  }\n\n  handleEmailChange(ev: any) {\n    this.email = ev.target.value\n    this.isValid = true\n  }\n\n  handleInlineMessage(returnMessage: string) {\n    const messageMatch =\n      returnMessage.match && returnMessage.match(/<p>(.*?)<\\/p>/)\n    return messageMatch ? messageMatch[1] : undefined\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"wrapper\">\n          <div class=\"heading-group\">\n            <Heading>The latest updates. Delivered monthly.</Heading>\n            <Paragraph>\n              {this.defaults.brandName} is getting better every day. Sign up for a monthly email\n              on the latest updates, releases, articles, news, and exclusive beta features!\n            </Paragraph>\n          </div>\n          <div class=\"form-group\">\n            {this.hasSubmitted ? (\n              <div class=\"form-message\">\n                <ion-icon name=\"checkmark-circle\"></ion-icon>\n                <Paragraph>\n                  {this.handleInlineMessage(this.inlineMessage)}\n                </Paragraph>\n              </div>\n            ) : (\n              <form class=\"hs-form\" onSubmit={e => this.handleNewsletterSubmit(e)}>\n                <div class=\"hs_email hs-email hs-fieldtype-text field hs-form-field\">\n                  <div class=\"input\">\n                    <input\n                      name=\"email\"\n                      type=\"email\"\n                      autocomplete=\"email\"\n                      inputmode=\"email\"\n                      value={this.email}\n                      onInput={() => this.handleEmailChange(event)}\n                      disabled={this.isLoading}\n                      placeholder=\"E-mail\"\n                      class={{ 'error': this.isValid, 'ui-paragraph-4': true }}\n                      aria-label=\"Email\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class=\"hs_submit hs-submit\">\n                  <div class=\"actions\">\n                    <input type=\"submit\" class=\"hs-button primary large\" value=\"Subscribe\" />\n                  </div>\n                </div>\n                {!this.isValid && (\n                  <Paragraph level={5} class=\"error-message\">\n                    {this.inlineMessage}\n                  </Paragraph>\n                )}\n              </form>\n            )}\n          </div>\n        </div>\n      </Host>\n    )\n  }\n}\n"],"version":3}