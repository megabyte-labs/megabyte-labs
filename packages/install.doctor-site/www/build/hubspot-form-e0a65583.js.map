{"file":"hubspot-form-e0a65583.js","mappings":"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","names":[],"sources":["../stencil-docusaurus-lib/src/components/hubspot-form/hubspot-form.scss?tag=capacitor-hubspot-form","../stencil-docusaurus-lib/src/components/hubspot-form/hubspot-form.tsx"],"sourcesContent":["@use \"../../utils/variables.scss\";\n\ncapacitor-hubspot-form {\n  display: block;\n\n  max-width: 720px;\n  margin: 0 auto;\n  font-weight: 400;\n\n  .hs-form-required {\n    display: none;\n  }\n\n  form {\n    fieldset.form-columns-2 .input {\n      margin-right: 12px;\n    }\n\n    &.stacked .field {\n      margin-bottom: 4px;\n    }\n  }\n\n  .hs-input,\n  input.hs-input,\n  select.hs-input {\n    border: 1px solid #e1e5ed;\n    // padding: 15px 5px 15px 18px;\n    font-weight: 500;\n    border-radius: 4px;\n    transition: border-color 0.2s;\n    box-shadow: none;\n    outline: none;\n    height: 30px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.428571429;\n\n    &:placeholder {\n      color: var(--c-carbon-60);\n    }\n\n    &:valid {\n      // border-color: #B4BBC5;\n    }\n\n    &:hover,\n    &:focus,\n    &:active {\n      outline: none;\n      border-color: var(--c-ionic-brand);\n      box-shadow: none;\n    }\n\n    &.hs-input.error {\n      border-color: var(--c-red-60);\n    }\n  }\n\n  select.hs-input {\n    height: 44px;\n    width: calc(100% + 6px) !important;\n  }\n\n  textarea.hs-input {\n    padding: 12px;\n    width: calc(100% + 3px) !important;\n    min-height: 192px;\n  }\n\n  .hs_submit input.hs-button {\n    display: block;\n    margin: auto;\n    cursor: pointer;\n    font-size: 13px;\n    padding: 10px 18px 10px;\n    margin-right: -14px;\n    margin-top: -36px;\n    margin-left: auto;\n    margin-right: auto;\n    line-height: 23px;\n    float: right;\n    font-weight: 600;\n    letter-spacing: 0;\n    text-transform: none;\n    text-shadow: none;\n    background: var(--c-ionic-brand);\n    border: 0;\n    outline: 0;\n    transition: all 0.2s linear;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);\n\n    &:hover {\n      border: 0;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);\n      background: #5995fc;\n      color: #fff;\n      outline: 0;\n    }\n\n    &:active,\n    &:active:not(.inactive):not(.link),\n    &:focus:not(.inactive) {\n      border: 0;\n      color: #fff;\n      box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2);\n      background: #5995fc;\n      outline: 0;\n    }\n  }\n\n  .submitted-message {\n    &:before {\n      content: \"\";\n      display: block;\n      background-image: url(\"/img/checkmark-light-green.svg\");\n      background-repeat: no-repeat;\n      background-size: 100%;\n      width: 42px;\n      height: 42px;\n      margin-bottom: 12px;\n    }\n\n    font-size: 18px;\n    padding: 34px 0 78px;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-weight: 400;\n    color: #35af55;\n    max-width: 410px;\n    background-color: white;\n    margin: 0 auto;\n  }\n\n  .hubspot-override .hs-form {\n    font-family: var(--f-family-system);\n    // TODO these styles are only used on contributors landing,\n    // need to be applied to all hubspot forms\n\n    &,\n    & fieldset,\n    & iframe {\n      max-width: 100%;\n    }\n\n    // fieldset + fieldset,\n    // form.stacked .hs-form-field + .hs-form-field,\n    // fieldset .hs-form-field + .hs-form-field,\n    // form.stacked .hs-form-field + .hs-dependent-field {\n    //   margin-top: 26px;\n    // }\n    .hs-form-field {\n      margin-top: 16px;\n    }\n\n    label {\n      margin-bottom: 3px;\n    }\n\n    .hs-form-required {\n      display: inline;\n      color: #f45454;\n      margin-left: 4px;\n    }\n\n    .hs-richtext {\n      margin-top: 8px;\n    }\n\n    .hs-input,\n    input.hs-input {\n      transition: border 0.3s;\n      font-weight: 500;\n      background-color: #fff;\n      background-image: none;\n      border: 1px solid #ced6e3;\n      line-height: 1.39286;\n      border-radius: 4px;\n      padding: 11px 15px;\n      font-size: 15px;\n      margin-bottom: 0;\n      color: #505863;\n    }\n\n    input.hs-input[type=\"number\"] {\n      float: none;\n    }\n\n    input.hs-input[type=\"text\"],\n    input.hs-input[type=\"email\"],\n    input.hs-input[type=\"tel\"] {\n      height: auto;\n      width: 100%;\n      float: none;\n\n      &:focus {\n        border-color: #629eff;\n      }\n    }\n\n    input.hs-input[type=\"radio\"],\n    input.hs-input[type=\"checkbox\"] {\n      height: auto;\n      margin-right: 8px;\n    }\n\n    .hs-form-booleancheckbox-display {\n      display: flex;\n    }\n\n    select.hs-input {\n      height: 44px;\n\n      appearance: none;\n      -moz-appearance: none;\n      background-image: linear-gradient(45deg, transparent 50%, gray 50%),\n        linear-gradient(135deg, gray 50%, transparent 50%);\n      background-position: calc(100% - 20px) 50%, calc(100% - 15px) 50%;\n      background-size: 5px 5px, 5px 5px, 1px 1.5em;\n      background-repeat: no-repeat;\n    }\n\n    form fieldset.form-columns-2 .input {\n      margin: 0;\n    }\n\n    fieldset.form-columns-2 .hs-form-field {\n      padding: 0 10px;\n\n      &:first-child {\n        padding-left: 0;\n      }\n      &:last-child {\n        padding-right: 0;\n      }\n    }\n\n    .inputs-list,\n    .hs-error-msgs {\n      margin: 0;\n      padding: 0;\n      list-style-type: none;\n    }\n\n    .inputs-list.multi-container {\n      overflow: hidden;\n\n      li:nth-last-child(n + 6):first-child,\n      li:nth-last-child(n + 6):first-child ~ li {\n        width: 50%;\n        float: left;\n        padding-right: 11px;\n      }\n      li:nth-last-child(n + 6):first-child ~ li:nth-child(even) {\n        padding-right: 0;\n        padding-left: 11px;\n      }\n    }\n\n    .hs-form-checkbox-display {\n      margin-top: 4px;\n      display: flex;\n    }\n\n    .hs-form-checkbox-display .hs-input[type=\"checkbox\"] {\n      margin-right: 10px;\n    }\n\n    .hs-form-checkbox-display span {\n      font-size: 15px;\n      color: #505863;\n    }\n\n    .hs-error-msgs {\n      padding: 5px 0 0;\n      font-size: 11px;\n      color: #f45454;\n    }\n\n    .hs_submit {\n      margin-top: 30px;\n    }\n\n    .hs_submit input.hs-button {\n      transition: all 0.3s ease;\n      margin: 0;\n      float: none;\n      margin: auto;\n      font-size: 16px;\n      font-weight: 700;\n      padding: 12px 20px;\n      vertical-align: middle;\n      color: white;\n      background: #3880ff;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.12);\n      border-radius: 4px;\n      line-height: 18px;\n      letter-spacing: -0.01em;\n\n      &:hover {\n        box-shadow: 0 7px 14px rgba(0, 0, 0, 0.12),\n          0 3px 6px rgba(0, 0, 0, 0.08);\n        background: #4d8dfd;\n        color: #fff;\n        outline: none;\n      }\n    }\n\n    @media (max-width: variables.$breakpoint-sm) {\n      fieldset.form-columns-2 .hs-form-field {\n        width: 100%;\n        float: none;\n        padding: 0;\n\n        & + .hs-form-field {\n          margin-top: 24px;\n        }\n      }\n      .inputs-list.multi-container {\n        li:nth-last-child(n + 6):first-child,\n        li:nth-last-child(n + 6):first-child ~ li {\n          width: 100%;\n          float: none;\n          padding-right: 0;\n        }\n        li:nth-last-child(n + 6):first-child ~ li:nth-child(even) {\n          padding-left: 0;\n        }\n      }\n      .hs_submit input.hs-button {\n        width: 100%;\n      }\n    }\n  }\n\n  .hubspot-override--large .hs-form {\n    label:not(.hs-form-booleancheckbox-display) {\n      text-transform: uppercase;\n      font-size: 12px;\n      letter-spacing: 0.05em;\n      margin-bottom: 6px;\n    }\n\n    .hs-form-booleancheckbox-display {\n      font-size: 15px;\n    }\n\n    .hs-richtext {\n      p span,\n      p a {\n        font-size: 15px;\n      }\n    }\n\n    .hs-input,\n    input.hs-input {\n      padding: 16px 20px 18px;\n      font-size: 18px;\n    }\n\n    select.hs-input {\n      text-indent: 10px;\n      height: 60px;\n    }\n    @-moz-document url-prefix() {\n      select.hs-input {\n        text-indent: 0;\n      }\n    }\n\n    .hs-error-msgs label {\n      font-size: 11px;\n      letter-spacing: 0;\n      text-transform: none;\n    }\n\n    fieldset.form-columns-2 .hs-form-field {\n      padding: 0 20px;\n    }\n\n    .hs_submit {\n      text-align: center;\n      padding-top: 18px;\n    }\n\n    .hs_submit input.hs-button {\n      padding: 22px 27px 24px;\n      border-radius: 6px;\n    }\n\n    @media (max-width: variables.$breakpoint-sm) {\n      fieldset.form-columns-2 .hs-form-field {\n        padding: 0;\n      }\n    }\n  }\n\n  .hubspot-override--measure {\n    max-width: 748px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n}\n","import {\n  Component,\n  Host,\n  h,\n  Prop,\n  Event,\n  EventEmitter,\n  Element,\n  State,\n  Listen,\n} from '@stencil/core'\nimport { importResource } from '../../utils/utils'\n\ndeclare var window: any\n\n@Component({\n  tag: 'capacitor-hubspot-form',\n  styleUrl: 'hubspot-form.scss',\n})\nexport class HubspotForm {\n  @Element() el?: HTMLElement\n  @Prop() formId?: string\n  @Prop() goToWebinarKey?: string\n  @Prop() ajax = false;\n  @Prop() defaults: any\n\n  @Event() formSubmitted?: EventEmitter\n\n  @State() error: string | null = null;\n\n  scriptEl?: HTMLScriptElement\n\n  componentDidLoad() {\n    importResource(\n      { propertyName: 'hbspt', link: '//js.hsforms.net/forms/v2.js' },\n      this.handleScriptLoad,\n    )\n  }\n\n  @Listen('message', { target: 'window' })\n  handleWindowMessage(e: MessageEvent) {\n    if (e.data && e.data.formGuid && this.ajax) {\n      // Don't let hubspot do anything\n      e.preventDefault()\n      e.stopImmediatePropagation()\n\n      if (e.data.accepted === true) {\n        this.formSubmitted?.emit()\n      } else if (e.data.accepted === false) {\n        this.error =\n          'Unable to submit. Please check your information and try again.'\n      } else {\n        this.error = ''\n      }\n    }\n  }\n\n  handleScriptLoad = () => {\n    requestAnimationFrame(() => {\n      window.hbspt.forms.create({\n        portalId: this.defaults.hubspot.fullForm.id,\n        formId: this.formId,\n        target: `#${this.getFormElementId()}`,\n        goToWebinarWebinarKey: this.goToWebinarKey || '',\n        css: '',\n        onFormReady: this.handleFormReady,\n      })\n    })\n  };\n\n  handleFormReady = (_e: any, _c: any) => {\n    // Don't override the form if not using the ajax method\n    if (!this.ajax) {\n      return\n    }\n\n    const formEl = this.el?.querySelector(\n      `#${this.getFormElementId()} form`,\n    ) as HTMLFormElement\n    if (!formEl) {\n      return\n    }\n\n    formEl.addEventListener('submit', (e: Event) => {\n      e.preventDefault()\n      e.stopPropagation()\n      return false\n    })\n\n    formEl\n      .querySelector('input[type=\"submit\"]')\n      ?.addEventListener('click', e => {\n        this.submitForm(formEl)\n        e.preventDefault()\n      })\n  };\n\n  getFormElementId = () => `hbspt-form-${this.formId}`;\n\n  submitForm = async (form: HTMLFormElement) => {\n    const data = new FormData(form)\n\n    try {\n      const ret = await fetch(form.getAttribute('action')!, {\n        method: 'POST',\n        body: data,\n      })\n\n      if (ret.status !== 200) {\n        this.error = 'Error submitting form'\n      } else {\n        // The response from hubspot is a script tag. I know, it's truly magnificent\n        const frame = document.createElement('iframe')\n        frame.srcdoc = await ret.text()\n        document.body.appendChild(frame)\n      }\n    } catch (e) {\n      this.error = 'Unable to submit form'\n    }\n  };\n\n  render() {\n    return (\n      <Host>\n        <div class=\"hubspot-override\">\n          <div id={this.getFormElementId()} />\n        </div>\n        {this.error ? <div class=\"hs-error-msgs\">{this.error}</div> : null}\n      </Host>\n    )\n  }\n}\n"],"version":3}