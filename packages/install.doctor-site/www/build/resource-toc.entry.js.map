{"file":"resource-toc.entry.esm.js","mappings":"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","names":["IntersectionHelper.addListener"],"sources":["../../node_modules/ionic-ds-no-fonts/dist/collection/resource-center/resource-toc/resource-toc.css?tag=resource-toc&encapsulation=scoped","../../node_modules/ionic-ds-no-fonts/dist/collection/resource-center/resource-toc/resource-toc.js"],"sourcesContent":[":host {\n  display: block;\n  position: sticky;\n  top: 96px;\n}\n@media (max-width: 768px) {\n  :host {\n    display: none;\n  }\n}\n\nnav {\n  margin: 0;\n  padding: 0;\n}\n\nul {\n  font-size: 14px;\n  list-style: none;\n  line-height: 1.4em;\n  padding: 0 0 16px;\n}\n\nli {\n  color: var(--c-carbon-80);\n  margin-block-start: var(--space-1);\n  margin-block-end: var(--space-1);\n  cursor: pointer;\n  list-style: none;\n  color: var(--c-carbon-80);\n  display: block;\n  transition: 0.2s transform ease, 0.2s color;\n}\nli.active {\n  transform: translateX(8px);\n  color: #597EFF;\n}\n\n.title {\n  color: var(--c-indigo-60);\n}\n\n.cta-button {\n  margin-block-start: var(--space-3);\n  font-weight: 600;\n  border-radius: 6px;\n  letter-spacing: 0;\n  text-transform: none;\n  padding: 12px 19px 10px;\n  font-size: 14px;\n  line-height: 1em;\n  background: #3880FF;\n  color: #fff;\n}\n\n.sharing {\n  margin: 0;\n  border-top: 2px solid #f3f5f9;\n  padding-top: 26px;\n}\n.sharing li {\n  margin: 0;\n  margin-right: 6px;\n  display: inline-block;\n}\n.sharing a {\n  color: #CBD2DD;\n  font-size: 20px;\n}\n.sharing a:hover {\n  color: var(--c-ionic-brand);\n}\n.sharing #web-share {\n  display: none;\n}","import { h, Component, Prop } from '@stencil/core';\nimport { slugify } from '../../web/utils/slugify';\nimport { IntersectionHelper } from '../../core';\nexport class ResourceTOC {\n  constructor() {\n    this.headings = new Map();\n  }\n  componentDidLoad() {\n    IntersectionHelper.addListener(({ entries }) => {\n      entries.forEach(({ target, intersectionRatio }) => {\n        if (!this.headings.get(target.id))\n          return;\n        const heading = this.headings.get(target.id);\n        if (intersectionRatio === 0) {\n          heading.inView = false;\n        }\n        else {\n          heading.inView = true;\n        }\n      });\n      this.getFirstInView();\n    });\n    this.titleNames.map((title) => {\n      const id = `h-${slugify(title)}`;\n      const item = document.getElementById(id);\n      this.headings.set(id, Object.assign(Object.assign({}, this.headings.get(id)), { headingEl: item }));\n    });\n  }\n  getFirstInView() {\n    let gotFirst = false;\n    for (const val of this.headings.values()) {\n      if (!val.tocEl)\n        continue;\n      if (val.inView && !gotFirst) {\n        val.tocEl.classList.add('active');\n        gotFirst = true;\n      }\n      else {\n        val.tocEl.classList.remove('active');\n      }\n    }\n    if (!gotFirst) {\n      const { tocEl } = [...this.headings.values()].reduce((acc, cur, i) => {\n        var _a, _b;\n        const curTop = (_a = cur.headingEl) === null || _a === void 0 ? void 0 : _a.offsetTop;\n        const accTop = (_b = acc.headingEl) === null || _b === void 0 ? void 0 : _b.offsetTop;\n        if (i === 0 || !accTop)\n          return cur;\n        if (Math.abs(window.scrollY - curTop) < Math.abs(window.scrollY - accTop)) {\n          return cur;\n        }\n        else {\n          return acc;\n        }\n      });\n      tocEl === null || tocEl === void 0 ? void 0 : tocEl.classList.add('active');\n    }\n  }\n  handleTocClick(ev) {\n    var _a;\n    const target = ev.target;\n    if (!((_a = target === null || target === void 0 ? void 0 : target.dataset) === null || _a === void 0 ? void 0 : _a.id))\n      return;\n    const headingEl = this.headings.get(target.dataset.id).headingEl;\n    window.scrollTo({\n      top: headingEl.offsetTop - 100,\n      behavior: 'smooth'\n    });\n  }\n  render() {\n    return (h(\"nav\", null,\n      h(\"ul\", null, this.titleNames.map(link => (h(\"li\", { class: \"ui-paragraph-4\", onClick: (ev) => this.handleTocClick(ev), \"data-id\": `h-${slugify(link)}`, ref: e => {\n          var _a;\n          const id = (_a = e === null || e === void 0 ? void 0 : e.dataset) === null || _a === void 0 ? void 0 : _a.id;\n          if (!id || !e)\n            return;\n          this.headings.set(id, Object.assign(Object.assign({}, this.headings.get(id)), { tocEl: e }));\n        } }, link))))));\n  }\n  static get is() { return \"resource-toc\"; }\n  static get encapsulation() { return \"scoped\"; }\n  static get originalStyleUrls() { return {\n    \"$\": [\"resource-toc.scss\"]\n  }; }\n  static get styleUrls() { return {\n    \"$\": [\"resource-toc.css\"]\n  }; }\n  static get properties() { return {\n    \"titleNames\": {\n      \"type\": \"unknown\",\n      \"mutable\": false,\n      \"complexType\": {\n        \"original\": \"string[]\",\n        \"resolved\": \"string[]\",\n        \"references\": {}\n      },\n      \"required\": true,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      }\n    }\n  }; }\n}\n"],"version":3}